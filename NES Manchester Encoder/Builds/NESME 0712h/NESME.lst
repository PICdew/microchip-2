MPASM  5.35beta                         NESME.ASM   7-12-2012  1:37:04         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;==================================================================================================
                      00002 ;====================================  NES Joystic Decoder 1.0 ====================================
                      00003 ;================================== DERKACH OLEXANDR DEVELOPMENT ==================================
                      00004 ;========================================= (c) 2012 Alche =========================================
                      00005 ;=========================================  alche@ukr.net =========================================
                      00006 ;==================================================================================================
                      00007 ;05.07.12 Добавлена перекодировка в формат DIY-RC
                      00008 ;06.07.12 Добавлен маячек для визуального контроля
                      00009  #include       <P12F675.inc>                           ;файл стандартных определений
                      00001         LIST
                      00002 ; P12F675.INC  Standard Header File, Version 1.04    Microchip Technology, Inc.
Message[301]: MESSAGE: (Processor-header file mismatch.  Verify selected processor.)
                      00284         LIST
                      00010         list       p=12F675
Warning[205]: Found directive in column 1. (__CONFIG)
2007   3FC4           00011 __CONFIG _INTRC_OSC_NOCLKOUT & _WDT_OFF & _PWRTE_ON & _MCLRE_OFF & _CP_OFF & _CPD_OFF
                      00012 
                      00013 ;==================================================================================================
                      00014 ;==================================== Раздел описания констант ====================================
                      00015 ;==================================================================================================
                      00016         #DEFINE INPUT           GPIO,2                  ;Ввод даных
                      00017         #DEFINE CLK                     GPIO,0                  ;Вывод синхроимпульса
                      00018         #DEFINE LATCH           GPIO,1                  ;Вывод записи в регистр
                      00019         #DEFINE OUT                     GPIO,5                  ;Вывод результата
                      00020         #DEFINE LED                     GPIO,4                  ;Вывод подключения светодиода
                      00021         #DEFINE MODE_INV                                        ;Результат (1ый бит слева = MODE_NORM, с
                            права=MODE_INV)
                      00022         CBLOCK  0x020
                      00023 
                      00024         
  00000020            00025         tmp
  00000021            00026         cnt                                                                     ;Ячейка счета
  00000022            00027         cnt1                                                            ;Ячейка счета в манчестеровских 
                            процедурах
  00000023            00028         cnt2                                                            ;Ячейка счета в манчестеровских 
                            процедурах
  00000024            00029         cnt3                                                            ;Ячейка счета для перекодировки 
                            в формат DIY-RC
  00000025            00030         sum                                                                     ;Ячайка для счета CRC в 
                            манчестере
  00000026            00031         bt                                                                      ;Ячейка временного буфер
                            а передачи в манчестере
  00000027            00032         mtx_delay                                                       ;Ячейка длительности передаваемо
                            го импульса
  00000028            00033         ncnt                                                            ;Ячейка счета в манчестере      
  00000029            00034         temp                                                            ;Временная ячейка 1
  0000002A            00035         temp1                                                           ;Временная ячейка 2
  0000002B            00036         tcnt                                                            ;Ячейка счета в манчестере
  0000002C            00037         rezult                                                          ;Ячейка промежуточного результат
                            а
  0000002D            00038         mtx_buffer                                                      ;Ячейка для передачи передается 
                            номер пульта +1 = передается код кнопки
                      00039         
MPASM  5.35beta                         NESME.ASM   7-12-2012  1:37:04         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00040         ENDC
                      00041 
Warning[207]: Found label after column 1. (packet_len)
  00000002            00042     packet_len  EQU 2
                      00043 
                      00044 
                      00045 SHORTPAUSE macro
                      00046         movlw   0xFF
                      00047         movwf   temp
                      00048         decfsz  temp
                      00049         goto    $-1
                      00050  endm
                      00051 
                      00052 
Warning[205]: Found directive in column 1. (org)
0000                  00053 org 0x000
0000   2801           00054         goto    START
                      00055 ;==================================================================================================
                      00056 ;==================================== Начальная  инициализация ====================================
                      00057 ;==================================================================================================
0001                  00058 START
0001   018B           00059         clrf    INTCON                                          ;Очистка регистра прерываний
0002   1683           00060         bsf             STATUS,RP0                              ;Банк 1
                      00061 ;       call    0x3FF                                           ;Считаем калибровочную константу
                      00062 ;       movwf   OSCCAL                                          ;Поместим в регистр
0003   3000           00063         movlw   b'00000000'                                     ;Значение для регистра OPTION
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0004   0081           00064         movwf   OPTION_REG                                      ;Поместили значение в регистр OPTION
0005   1283           00065         bcf             STATUS,RP0                                      ;Вернулись в Банк 0
0006   0185           00066         clrf    GPIO                                            ;Очистили порт
0007   3007           00067         movlw   b'00000111'                                     ;Значение для конфигурации компаратора (
                            отключаем)
0008   0099           00068         movwf   CMCON                                           ;Поместили в регистр конфигурации компар
                            атора
                      00069 
0009   1683           00070         bsf             STATUS,RP0                                      ;Переходим в банк 1
000A   3010           00071         movlw   b'00010000'                                     ;Слово конфигурации для ANSEL, FOsc/2 GP
                            0 аналоговый вход
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000B   009F           00072         movwf   ANSEL                                           ;Поместили слово в регистр
000C   3004           00073         movlw   b'00000100'                                     ;GP4 вход, остальные выходы
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000D   0085           00074         movwf   TRISIO                                          ;Поместили в регистр конфигурации входов
                            /выходов
000E   3012           00075         movlw   b'00010010'                                     ;Слово конфигурации для WPU 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000F   0095           00076         movwf   WPU                                                     ;Включили подтягивающие резистор
                            ы
                      00077 
0010   1283           00078         bcf             STATUS,RP0                                      ;Вернулись в банк 0
0011   3081           00079         movlw   b'10000001'                                     ;Слово конфигурации для ADCON
0012   009F           00080         movwf   ADCON0                                          ;Поместили слово в регистр
0013                  00081 STARTWORK       
MPASM  5.35beta                         NESME.ASM   7-12-2012  1:37:04         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0013   3003           00082         movlw   0x03
0014   00A1           00083         movwf   cnt
0015                  00084 LEDBLINK
0015   1605           00085         bsf             LED
0016   20AD           00086         call    PAUSE
0017   20AD           00087         call    PAUSE
0018   1205           00088         bcf             LED
0019   20AD           00089         call    PAUSE
001A   20AD           00090         call    PAUSE
Message[305]: Using default destination of 1 (file).
001B   0BA1           00091         decfsz  cnt
001C   2815           00092         goto    LEDBLINK
001D   20B9           00093         call    TESTSEND2
                      00094 
001E                  00095 INIT
001E   01A0           00096         clrf    tmp
001F   1285           00097         bcf             OUT
0020   01AC           00098         clrf    rezult                                          ;Очистили ячейку результата             
                                    
0021   1003           00099         bcf             STATUS,C                                        ;Сбросили флаг переноса после пр
                            едыдущих операций для коректности переноса
0022   1405           00100         bsf             CLK                                                     ;Установили 1 на выводе 
                            тактирования сдвигового регистра
0023   1485           00101         bsf             LATCH                                           ;Дали команду регистру считать с
                            остояние выводов
0024   1085           00102         bcf             LATCH                                           ;Установили 0 на выводе PS
                      00103 
0025                  00104 OPROS
0025   3008           00105         movlw   0x08                                            ;Количество проходов для считывания выхо
                            да регистра
0026   00A1           00106         movwf   cnt                                                     ;Поместили во временную ячейку с
                            чета
0027                  00107 TAKTLOOP
0027   202E           00108         call    TAKT                                            ;Будем тактировать вывод и считать резул
                            ьтат
Message[305]: Using default destination of 1 (file).
0028   0BA1           00109         decfsz  cnt                                                     ;Декримент ячейки счети
0029   2827           00110         goto    TAKTLOOP                                        ;Если не 0 то на начало цикла
Message[305]: Using default destination of 1 (file).
002A   0AAC           00111         incf    rezult                                          ;Иначе инкриментируем результат
Message[305]: Using default destination of 1 (file).
002B   0BAC           00112         decfsz  rezult                                          ;Теперь декриментируем
002C   2839           00113         goto    OUTREZULT                                       ;Если резуьтат не ноль то будем его выво
                            дить
002D   281E           00114         goto    INIT                                            ;Иначе будем опрашивать снова
                      00115 
002E                  00116 TAKT
                      00117 #ifdef MODE_INV                                                 ;Если указан режим INV
Message[305]: Using default destination of 1 (file).
002E   0DAC           00118         rlf             rezult                                          ;То будем сдвигать результат вле
                            во
Warning[205]: Found directive in column 1. (endif)
                      00119 endif                                                                   ;Конец если
MPASM  5.35beta                         NESME.ASM   7-12-2012  1:37:04         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00120 
                      00121 #ifdef MODE_NORM                                                ;Если указан режим NORM
                      00122         rrf             rezult                                          ;то будем сдвигать результат впр
                            аво
                      00123 endif                                                                   ;конец если
                      00124 
002F   1003           00125         bcf             STATUS,C                                        ;Очистили флаг переноса
0030   1405           00126         bsf             CLK                                                     ;Установим 1 на выводе с
                            двига регистра
                      00127         SHORTPAUSE                                                      ;Небольшая пауза, даем время уст
                            ановиться 
0031   30FF               M         movlw   0xFF
0032   00A9               M         movwf   temp
Message[305]: Using default destination of 1 (file).
0033   0BA9               M         decfsz  temp
0034   2833               M         goto    $-1
0035   1D05           00128         btfss   INPUT                                           ;Проверим состояние входа если пришел 0 
                      00129 
                      00130 #ifdef MODE_INV                                                 ;Если указан режим INV
0036   142C           00131         bsf             rezult,0                                        ;то установим нулевой бит регист
                            ра результата в 1
Warning[205]: Found directive in column 1. (endif)
                      00132 endif                                                                   ;конец если
                      00133 
                      00134 #ifdef MODE_NORM                                                ;Если указан режим NORM
                      00135         bsf             rezult,7                                        ;то установим седьмой бит регист
                            ра результата в 1
                      00136 endif                                                                   ;конец если
                      00137 
0037   1005           00138         bcf             CLK                                                     ;Установим 0 на выводе с
                            двига регистра
0038   0008           00139  return                                                                 ;и возвращаемся
                      00140 
0039                  00141 OUTREZULT
0039   082C           00142         movfw   rezult                                          ;Поместили в рабочий регистр результат
003A   00A1           00143         movwf   cnt                                                     ;Рабочий регистр во временную яч
                            ейку счета
003B                  00144 OUTLOOP
003B   1285           00145         bcf             OUT                                                     ;Установим 0 на выходе
003C   1685           00146         bsf             OUT                                                     ;установим 1 на выходе
Message[305]: Using default destination of 1 (file).
003D   0BA1           00147         decfsz  cnt                                                     ;Уменьшим счетчик на 1, если сче
                            тчик не 0
003E   283B           00148         goto    OUTLOOP                                         ;то на начало цикла
                      00149 ;       call    ENCODE                                          ;Вызовем кодер посылки (для DIY-RC Proje
                            ct)
003F   082C           00150         movfw   rezult                                          ;Поместили результ в w  
0040   00AE           00151         movwf   mtx_buffer+1                            ;Перенесли w в буферотправки+1
0041   082E           00152         movf    (mtx_buffer+1),W                
0042   393F           00153         andlw   0x3F
0043   042B           00154         iorwf   tcnt,W
0044   00AE           00155         movwf   (mtx_buffer+1)
0045   3003           00156         movlw   3                                                       ;Количество повторных отправок
MPASM  5.35beta                         NESME.ASM   7-12-2012  1:37:04         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0046   00A9           00157         movwf   temp                                            ;в ячейку счета
0047   2050           00158         call    MANCHESTER                                      ;Выводим код
Message[305]: Using default destination of 1 (file).
0048   0BA9           00159         decfsz  temp                                            ;Уменьшим и если не 0
0049   2847           00160         goto    $-2                                                     ;то зациклимся
004A   082C           00161         movfw   rezult
004B   3040           00162         movlw   0x40
004C   07AB           00163         addwf   tcnt,F
                      00164 
004D   082C           00165         movfw   rezult
004E   00A1           00166         movwf   cnt
                      00167 ;LEDBLINK2
                      00168 ;       call    PAUSE
                      00169 ;       call    PAUSE
                      00170 ;       bsf             LED
                      00171 ;       call    PAUSE
                      00172 ;       call    PAUSE
                      00173 ;       bcf             LED
                      00174         
                      00175 ;       decfsz  cnt
                      00176 ;       goto    LEDBLINK2
004F   281E           00177         goto    INIT                                            ;иначе возвращаемся в самое начало
                      00178 
                      00179 
                      00180 ;==================================================================================================
                      00181 ;========================================= MANCHESTER =============================================
                      00182 ;==================================================================================================
0050                  00183 MANCHESTER
0050   01A0           00184         clrf    tmp
0051                  00185 mtx_init
0051   3075           00186         movlw   0x75                                            ;Значение длительности импульсов 
0052   00A7           00187         movwf   mtx_delay                                       ;Поместили в регистр
                      00188 
0053                  00189 HEADER                                                                  ;Посылка заголовка
0053   3014           00190         movlw   0x14                                            ;Количество единиц в заголовке
0054   00A3           00191         movwf   cnt2                                            ;Ячейка для счета
0055                  00192 head0                                                                   ;Начинаем посылку
0055   2081           00193         call    BIT1                                            ;Отправим 1
0056   0BA3           00194         decfsz  cnt2,F                                          ;уменшим счетчик и если не ноль
0057   2855           00195         goto    head0                                           ;перейдем на начало цикла
0058   2075           00196         call    BIT0                                            ;иначе отправим 0
0059   302D           00197         movlw   mtx_buffer                                      ;
005A   0084           00198         movwf   FSR         
005B   3002           00199         movlw   packet_len        
005C   00A2           00200         movwf   cnt1     
005D   30FF           00201         movlw   0xFF        
005E   00A5           00202         movwf   sum     
005F                  00203 outbu0 
005F   0800           00204         movf    INDF,W                                          ;w=FF,75,FF,75  
0060   208D           00205         call    UPDATE_SUM                                      ;w=0,41,0,41,0,41 (содержимое ячеек)
0061   0800           00206         movf    INDF,W                                          ;w=AC,8D,AC,
0062   2069           00207         call    OUTBYTE                                         ;w=0,41,0,41,0,41
0063   0A84           00208         incf    FSR,F       
MPASM  5.35beta                         NESME.ASM   7-12-2012  1:37:04         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0064   0BA2           00209         decfsz  cnt1,F   
0065   285F           00210         goto    outbu0     
0066   0825           00211         movf    sum,W   
0067   2069           00212         call    OUTBYTE     
0068   0008           00213  return              
                      00214 
0069                  00215 OUTBYTE
0069   00A6           00216         movwf   bt    
006A   3008           00217         movlw   0x08        
006B   00A3           00218         movwf   cnt2     
006C                  00219 outby0 
006C   0DA6           00220         rlf     bt,F   
006D   1803           00221         btfsc   STATUS,C    
006E   2871           00222         goto    outby1     
006F   2075           00223         call    BIT0    
0070   2872           00224         goto    outby2     
0071                  00225 outby1
0071   2081           00226         call    BIT1     
0072                  00227 outby2 
0072   0BA3           00228         decfsz  cnt2,F   
0073   286C           00229         goto    outby0     
0074   2081           00230         call    BIT1    
                      00231 
0075                  00232 BIT0
Message[305]: Using default destination of 1 (file).
0075   0AA0           00233         incf    tmp
0076   1685           00234         bsf             OUT
0077                  00235 ndelaya0       
0077   0827           00236         movf    mtx_delay,W   
0078   00A8           00237         movwf   ncnt     
0079                  00238 ndelaya1
0079   0BA8           00239         decfsz  ncnt,F   
007A   2879           00240         goto    ndelaya1
007B   1285           00241         bcf             OUT
007C                  00242 ndelayb0    
007C   0827           00243         movf    mtx_delay,W   
007D   00A8           00244         movwf   ncnt     
007E                  00245 ndelayb1
007E   0BA8           00246         decfsz  ncnt,F   
007F   287E           00247         goto    ndelayb1
0080   0008           00248  return            
                      00249 
0081                  00250 BIT1
Message[305]: Using default destination of 1 (file).
0081   0AA0           00251         incf    tmp
0082   1285           00252         bcf             OUT
0083                  00253 ndelayc0
0083   0827           00254         movf    mtx_delay,W
0084   00A8           00255         movwf   ncnt
0085                  00256 ndelayc1
0085   0BA8           00257         decfsz  ncnt,F
0086   2885           00258         goto    ndelayc1
0087   1685           00259         bsf             OUT
MPASM  5.35beta                         NESME.ASM   7-12-2012  1:37:04         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0088                  00260 ndelaye0
0088   0827           00261         movf    mtx_delay,W
0089   00A8           00262         movwf   ncnt
008A                  00263 ndelaye1
008A   0BA8           00264         decfsz  ncnt,F
008B   288A           00265         goto    ndelaye1
008C   0008           00266  return 
                      00267 
008D                  00268 UPDATE_SUM
008D   06A5           00269         xorwf   sum,F   
008E   0103           00270         clrw                
008F   1BA5           00271         btfsc   sum,7   
0090   3A7A           00272         xorlw   0x7A        
0091   1B25           00273         btfsc   sum,6   
0092   3A3D           00274         xorlw   0x3D        
0093   1AA5           00275         btfsc   sum,5   
0094   3A86           00276         xorlw   0x86        
0095   1A25           00277         btfsc   sum,4   
0096   3A43           00278         xorlw   0x43        
0097   19A5           00279         btfsc   sum,3   
0098   3AB9           00280         xorlw   0xB9        
0099   1925           00281         btfsc   sum,2   
009A   3AC4           00282         xorlw   0xC4        
009B   18A5           00283         btfsc   sum,1   
009C   3A62           00284         xorlw   0x62        
009D   1825           00285         btfsc   sum,0   
009E   3A31           00286         xorlw   0x31        
009F   00A5           00287         movwf   sum   
00A0   0008           00288  return  
                      00289 
00A1                  00290 ENCODE                                                                                  ;Кодировка под D
                            IY-RC (кнопки номеруются от 1 до 8)
00A1   3008           00291         movlw   0x08                                                            ;Счетчик циклов
00A2   00A1           00292         movwf   cnt                                                                     ;Ячейка счета
00A3   0103           00293         clrw                                                                            ;Очистили рабочи
                            й регистр, в него будем помещать результат
00A4   01A4           00294         clrf    cnt3                                                            ;Ячейка счета кнопок
00A5                  00295 SUM
Message[305]: Using default destination of 1 (file).
00A5   0AA4           00296         incf    cnt3                                                            ;Инкремент счетчика 
00A6   182C           00297         btfsc   rezult,0                                                        ;Если нулевой бит равен 
                            1
00A7   0724           00298         addwf   cnt3,0                                                          ;тогда суммируем значени
                            я счетчика кнопок и рабочего регистра
Message[305]: Using default destination of 1 (file).
00A8   0CAC           00299         rrf             rezult                                                          ;Сдвигаем вправо
                             резултат
Message[305]: Using default destination of 1 (file).
00A9   0BA1           00300         decfsz  cnt                                                                     ;Декримент счетч
                            ика цикла
00AA   28A5           00301         goto    SUM                                                                     ;Если не 0 то за
                            циклимся
00AB   00AC           00302         movwf   rezult                                                          ;Иначе поместим значение
MPASM  5.35beta                         NESME.ASM   7-12-2012  1:37:04         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                             из W в rezult
00AC   0008           00303  return                                                                                 ;Возвращаемся
                      00304 
00AD                  00305 PAUSE
00AD   30FF           00306         movlw   0xFF
00AE   00AA           00307         movwf   temp1
00AF   00A9           00308         movwf   temp
Message[305]: Using default destination of 1 (file).
00B0   0BA9           00309         decfsz  temp
00B1   28B0           00310         goto    $-1
Message[305]: Using default destination of 1 (file).
00B2   0BAA           00311         decfsz  temp1
00B3   28AF           00312         goto $-4
Warning[203]: Found opcode in column 1. (return)
00B4   0008           00313 return
                      00314 
00B5                  00315 TESTSEND
00B5   3041           00316         movlw   0x41
00B6   00AE           00317         movwf   mtx_buffer+1
                      00318 
00B7                  00319 T1
00B7   2050           00320         call    MANCHESTER
                      00321 ;       movlw   0x40
                      00322 ;       addwf   mtx_buffer
                      00323 ;       goto    T1
00B8   28B5           00324         goto    TESTSEND
                      00325         
                      00326 
00B9                  00327 TESTSEND2
00B9   3075           00328                                 movlw   0x75        
00BA   00A7           00329                         movwf   mtx_delay   
00BB   3005           00330                                 movlw   0x05
00BC   00A1           00331                                 movwf   cnt
00BD                  00332 TS1
00BD   2081           00333                                 call    BIT1;1
00BE   2081           00334                                 call    BIT1;2
00BF   2081           00335                                 call    BIT1;3
00C0   2081           00336                                 call    BIT1;4
00C1   2081           00337                                 call    BIT1;5
00C2   2081           00338                                 call    BIT1;6
00C3   2081           00339                                 call    BIT1;7
00C4   2081           00340                                 call    BIT1;8
00C5   2081           00341                                 call    BIT1;9
00C6   2081           00342                                 call    BIT1;10
00C7   2081           00343                                 call    BIT1;11
00C8   2081           00344                                 call    BIT1;12
00C9   2081           00345                                 call    BIT1;13
00CA   2081           00346                                 call    BIT1;14
00CB   2081           00347                                 call    BIT1;15
00CC   2081           00348                                 call    BIT1;16
00CD   2081           00349                                 call    BIT1;17
00CE   2081           00350                                 call    BIT1;18
00CF   2081           00351                                 call    BIT1;19
MPASM  5.35beta                         NESME.ASM   7-12-2012  1:37:04         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00D0   2081           00352                                 call    BIT1;20
00D1   2075           00353                                 call    BIT0;21
                      00354 ;outbu0
                      00355 ;outbyteprohod1
00D2                  00356 byte1
00D2   2075           00357                                 call    BIT0;22
00D3   2075           00358                                 call    BIT0;23
00D4   2075           00359                                 call    BIT0;24
00D5   2075           00360                                 call    BIT0;25
00D6   2075           00361                                 call    BIT0;26
00D7   2075           00362                                 call    BIT0;27
00D8   2075           00363                                 call    BIT0;28
00D9   2075           00364                                 call    BIT0;29
                      00365                                                         
00DA   2081           00366                                 call    BIT1;30
00DB   2075           00367                                 call    BIT0;31
                      00368 ;outbyteprohod2
00DC                  00369 byte2
00DC   2075           00370                                 call    BIT0;32
00DD   2081           00371                                 call    BIT1;33
00DE   2075           00372                                 call    BIT0;34
00DF   2075           00373                                 call    BIT0;35
00E0   2075           00374                                 call    BIT0;36
00E1   2075           00375                                 call    BIT0;37
00E2   2075           00376                                 call    BIT0;38
00E3   2081           00377                                 call    BIT1;39
                      00378 
00E4   2081           00379                                 call    BIT1;40
00E5   2075           00380                                 call    BIT0;41
                      00381 ;outbytebeforereturn
00E6                  00382 byte3
00E6   2081           00383                                 call    BIT1;42
00E7   2075           00384                                 call    BIT0;43
00E8   2075           00385                                 call    BIT0;44
00E9   2075           00386                                 call    BIT0;45
00EA   2081           00387                                 call    BIT1;46
00EB   2081           00388                                 call    BIT1;47
00EC   2075           00389                                 call    BIT0;48
00ED   2081           00390                                 call    BIT1;49
                      00391 
00EE   2081           00392                                 call    BIT1;50
00EF   2075           00393                                 call    BIT0;51
                      00394 
Message[305]: Using default destination of 1 (file).
00F0   0BA1           00395                                 decfsz  cnt
00F1   28BD           00396                                 goto    TS1 
                      00397 
00F2   3005           00398                                 movlw   0x05
00F3   00A1           00399                                 movwf   cnt
00F4                  00400 TS2
00F4   2081           00401                                 call    BIT1;1
00F5   2081           00402                                 call    BIT1;2
00F6   2081           00403                                 call    BIT1;3
MPASM  5.35beta                         NESME.ASM   7-12-2012  1:37:04         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00F7   2081           00404                                 call    BIT1;4
00F8   2081           00405                                 call    BIT1;5
00F9   2081           00406                                 call    BIT1;6
00FA   2081           00407                                 call    BIT1;7
00FB   2081           00408                                 call    BIT1;8
00FC   2081           00409                                 call    BIT1;9
00FD   2081           00410                                 call    BIT1;10
00FE   2081           00411                                 call    BIT1;11
00FF   2081           00412                                 call    BIT1;12
0100   2081           00413                                 call    BIT1;13
0101   2081           00414                                 call    BIT1;14
0102   2081           00415                                 call    BIT1;15
0103   2081           00416                                 call    BIT1;16
0104   2081           00417                                 call    BIT1;17
0105   2081           00418                                 call    BIT1;18
0106   2081           00419                                 call    BIT1;19
0107   2081           00420                                 call    BIT1;20
0108   2075           00421                                 call    BIT0;21
0109                  00422 byte2_1
0109   2075           00423                                 call    BIT0;22
010A   2075           00424                                 call    BIT0;23
010B   2075           00425                                 call    BIT0;24
010C   2075           00426                                 call    BIT0;25
010D   2075           00427                                 call    BIT0;26
010E   2075           00428                                 call    BIT0;27
010F   2075           00429                                 call    BIT0;28
0110   2075           00430                                 call    BIT0;29
                      00431                                                         
0111   2081           00432                                 call    BIT1;30
0112   2075           00433                                 call    BIT0;31
0113                  00434 byte2_2
0113   2081           00435                                 call    BIT1;32
0114   2075           00436                                 call    BIT0;33
0115   2075           00437                                 call    BIT0;34
0116   2075           00438                                 call    BIT0;35
0117   2075           00439                                 call    BIT0;36
0118   2075           00440                                 call    BIT0;37
0119   2075           00441                                 call    BIT0;38
011A   2081           00442                                 call    BIT1;39
                      00443 
011B   2081           00444                                 call    BIT1;40
011C   2075           00445                                 call    BIT0;41
011D                  00446 byte2_3
011D   2081           00447                                 call    BIT1;42
011E   2081           00448                                 call    BIT1;43
011F   2075           00449                                 call    BIT0;44
0120   2075           00450                                 call    BIT0;45
0121   2081           00451                                 call    BIT1;46
0122   2075           00452                                 call    BIT0;47
0123   2081           00453                                 call    BIT1;48
0124   2075           00454                                 call    BIT0;49
                      00455 
0125   2081           00456                                 call    BIT1;50
MPASM  5.35beta                         NESME.ASM   7-12-2012  1:37:04         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0126   2075           00457                                 call    BIT0;51
                      00458 
Message[305]: Using default destination of 1 (file).
0127   0BA1           00459                                 decfsz  cnt
0128   28F4           00460                                 goto TS2 
                      00461 
0129   3005           00462                                 movlw   0x05
012A   00A1           00463                                 movwf   cnt
012B                  00464 TS3
012B   2081           00465                                 call    BIT1;1
012C   2081           00466                                 call    BIT1;2
012D   2081           00467                                 call    BIT1;3
012E   2081           00468                                 call    BIT1;4
012F   2081           00469                                 call    BIT1;5
0130   2081           00470                                 call    BIT1;6
0131   2081           00471                                 call    BIT1;7
0132   2081           00472                                 call    BIT1;8
0133   2081           00473                                 call    BIT1;9
0134   2081           00474                                 call    BIT1;10
0135   2081           00475                                 call    BIT1;11
0136   2081           00476                                 call    BIT1;12
0137   2081           00477                                 call    BIT1;13
0138   2081           00478                                 call    BIT1;14
0139   2081           00479                                 call    BIT1;15
013A   2081           00480                                 call    BIT1;16
013B   2081           00481                                 call    BIT1;17
013C   2081           00482                                 call    BIT1;18
013D   2081           00483                                 call    BIT1;19
013E   2081           00484                                 call    BIT1;20
013F   2075           00485                                 call    BIT0;21
0140                  00486 byte3_1
0140   2075           00487                                 call    BIT0;22
0141   2075           00488                                 call    BIT0;23
0142   2075           00489                                 call    BIT0;24
0143   2075           00490                                 call    BIT0;25
0144   2075           00491                                 call    BIT0;26
0145   2075           00492                                 call    BIT0;27
0146   2075           00493                                 call    BIT0;28
0147   2075           00494                                 call    BIT0;29
                      00495                                                         
0148   2081           00496                                 call    BIT1;30
0149   2075           00497                                 call    BIT0;31
014A                  00498 byte3_2
014A   2081           00499                                 call    BIT1;32
014B   2081           00500                                 call    BIT1;33
014C   2075           00501                                 call    BIT0;34
014D   2075           00502                                 call    BIT0;35
014E   2075           00503                                 call    BIT0;36
014F   2075           00504                                 call    BIT0;37
0150   2075           00505                                 call    BIT0;38
0151   2081           00506                                 call    BIT1;39
                      00507 
0152   2081           00508                                 call    BIT1;40
MPASM  5.35beta                         NESME.ASM   7-12-2012  1:37:04         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0153   2075           00509                                 call    BIT0;41
0154                  00510 byte3_3
0154   2081           00511                                 call    BIT1;42
0155   2081           00512                                 call    BIT1;43
0156   2081           00513                                 call    BIT1;44
0157   2081           00514                                 call    BIT1;45
0158   2075           00515                                 call    BIT0;46
0159   2081           00516                                 call    BIT1;47
015A   2081           00517                                 call    BIT1;48
015B   2081           00518                                 call    BIT1;49
                      00519 
015C   2081           00520                                 call    BIT1;50
015D   2075           00521                                 call    BIT0;51
Message[305]: Using default destination of 1 (file).
015E   0BA1           00522                                 decfsz  cnt
015F   292B           00523                                 goto    TS3
                      00524 
                      00525 
0160   3005           00526                                 movlw   0x05
0161   00A1           00527                                 movwf   cnt
0162                  00528 TS4
0162   2081           00529                                 call    BIT1;1
0163   2081           00530                                 call    BIT1;2
0164   2081           00531                                 call    BIT1;3
0165   2081           00532                                 call    BIT1;4
0166   2081           00533                                 call    BIT1;5
0167   2081           00534                                 call    BIT1;6
0168   2081           00535                                 call    BIT1;7
0169   2081           00536                                 call    BIT1;8
016A   2081           00537                                 call    BIT1;9
016B   2081           00538                                 call    BIT1;10
016C   2081           00539                                 call    BIT1;11
016D   2081           00540                                 call    BIT1;12
016E   2081           00541                                 call    BIT1;13
016F   2081           00542                                 call    BIT1;14
0170   2081           00543                                 call    BIT1;15
0171   2081           00544                                 call    BIT1;16
0172   2081           00545                                 call    BIT1;17
0173   2081           00546                                 call    BIT1;18
0174   2081           00547                                 call    BIT1;19
0175   2081           00548                                 call    BIT1;20
0176   2075           00549                                 call    BIT0;21
0177                  00550 byte4_1
0177   2075           00551                                 call    BIT0;22
0178   2075           00552                                 call    BIT0;23
0179   2075           00553                                 call    BIT0;24
017A   2075           00554                                 call    BIT0;25
017B   2075           00555                                 call    BIT0;26
017C   2075           00556                                 call    BIT0;27
017D   2075           00557                                 call    BIT0;28
017E   2075           00558                                 call    BIT0;29
                      00559                                                         
017F   2081           00560                                 call    BIT1;30
MPASM  5.35beta                         NESME.ASM   7-12-2012  1:37:04         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0180   2075           00561                                 call    BIT0;31
0181                  00562 byte4_2
0181   2075           00563                                 call    BIT0;32
0182   2075           00564                                 call    BIT0;33
0183   2075           00565                                 call    BIT0;34
0184   2075           00566                                 call    BIT0;35
0185   2075           00567                                 call    BIT0;36
0186   2075           00568                                 call    BIT0;37
0187   2075           00569                                 call    BIT0;38
0188   2081           00570                                 call    BIT1;39
                      00571 
0189   2081           00572                                 call    BIT1;40
018A   2075           00573                                 call    BIT0;41
018B                  00574 byte4_3
018B   2081           00575                                 call    BIT1;42
018C   2075           00576                                 call    BIT0;43
018D   2081           00577                                 call    BIT1;44
018E   2081           00578                                 call    BIT1;45
018F   2075           00579                                 call    BIT0;46
0190   2075           00580                                 call    BIT0;47
0191   2075           00581                                 call    BIT0;48
0192   2075           00582                                 call    BIT0;49
                      00583 
0193   2081           00584                                 call    BIT1;50
0194   2075           00585                                 call    BIT0;51
Message[305]: Using default destination of 1 (file).
0195   0BA1           00586                                 decfsz  cnt
0196   2962           00587                                 goto    TS4
                      00588 
                      00589 
0197   28B9           00590         goto TESTSEND2
                      00591 
                      00592 ;org 0x3FF
                      00593 ;retlw 0x3424
                      00594  end
MPASM  5.35beta                         NESME.ASM   7-12-2012  1:37:04         PAGE 14


SYMBOL TABLE
  LABEL                             VALUE 

ADCON0                            0000001F
ADCS0                             00000004
ADCS1                             00000005
ADCS2                             00000006
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ANS0                              00000000
ANS1                              00000001
ANS2                              00000002
ANS3                              00000003
ANSEL                             0000009F
BIT0                              00000075
BIT1                              00000081
C                                 00000000
CAL0                              00000002
CAL1                              00000003
CAL2                              00000004
CAL3                              00000005
CAL4                              00000006
CAL5                              00000007
CHS0                              00000002
CHS1                              00000003
CINV                              00000004
CIS                               00000003
CLK                               GPIO,0
CM0                               00000000
CM1                               00000001
CM2                               00000002
CMCON                             00000019
CMIE                              00000003
CMIF                              00000003
COUT                              00000006
DC                                00000001
EEADR                             0000009B
EECON1                            0000009C
EECON2                            0000009D
EEDAT                             0000009A
EEDATA                            0000009A
EEIE                              00000007
EEIF                              00000007
ENCODE                            000000A1
F                                 00000001
FSR                               00000004
GIE                               00000007
GO                                00000001
GO_DONE                           00000001
GP0                               00000000
GP1                               00000001
GP2                               00000002
MPASM  5.35beta                         NESME.ASM   7-12-2012  1:37:04         PAGE 15


SYMBOL TABLE
  LABEL                             VALUE 

GP3                               00000003
GP4                               00000004
GP5                               00000005
GPIE                              00000003
GPIF                              00000000
GPIO                              00000005
GPIO0                             00000000
GPIO1                             00000001
GPIO2                             00000002
GPIO3                             00000003
GPIO4                             00000004
GPIO5                             00000005
HEADER                            00000053
INDF                              00000000
INIT                              0000001E
INPUT                             GPIO,2
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IOC                               00000096
IOC0                              00000000
IOC1                              00000001
IOC2                              00000002
IOC3                              00000003
IOC4                              00000004
IOC5                              00000005
IOCB                              00000096
IOCB0                             00000000
IOCB1                             00000001
IOCB2                             00000002
IOCB3                             00000003
IOCB4                             00000004
IOCB5                             00000005
IRP                               00000007
LATCH                             GPIO,1
LED                               GPIO,4
LEDBLINK                          00000015
MANCHESTER                        00000050
MODE_INV                          
NOT_BOD                           00000000
NOT_DONE                          00000001
NOT_GPPU                          00000007
NOT_PD                            00000003
NOT_POR                           00000001
NOT_T1SYNC                        00000002
NOT_TO                            00000004
OPROS                             00000025
OPTION_REG                        00000081
OSCCAL                            00000090
OUT                               GPIO,5
OUTBYTE                           00000069
OUTLOOP                           0000003B
MPASM  5.35beta                         NESME.ASM   7-12-2012  1:37:04         PAGE 16


SYMBOL TABLE
  LABEL                             VALUE 

OUTREZULT                         00000039
PAUSE                             000000AD
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PIE1                              0000008C
PIR1                              0000000C
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
RD                                00000000
RP0                               00000005
RP1                               00000006
SHORTPAUSE                        
START                             00000001
STARTWORK                         00000013
STATUS                            00000003
SUM                               000000A5
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1                                000000B7
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1IE                              00000000
T1IF                              00000000
T1OSCEN                           00000003
TAKT                              0000002E
TAKTLOOP                          00000027
TESTSEND                          000000B5
TESTSEND2                         000000B9
TMR0                              00000001
TMR1CS                            00000001
TMR1GE                            00000006
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TRISIO                            00000085
TS1                               000000BD
TS2                               000000F4
TS3                               0000012B
TS4                               00000162
UPDATE_SUM                        0000008D
VCFG                              00000006
VR0                               00000000
VR1                               00000001
VR2                               00000002
MPASM  5.35beta                         NESME.ASM   7-12-2012  1:37:04         PAGE 17


SYMBOL TABLE
  LABEL                             VALUE 

VR3                               00000003
VRCON                             00000099
VREN                              00000007
VRR                               00000005
W                                 00000000
WPU                               00000095
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_OFF                           00003FFF
_CP_ON                            00003F7F
_EC_OSC                           00003FFB
_EXTRC_OSC_CLKOUT                 00003FFF
_EXTRC_OSC_NOCLKOUT               00003FFE
_HS_OSC                           00003FFA
_INTRC_OSC_CLKOUT                 00003FFD
_INTRC_OSC_NOCLKOUT               00003FFC
_LP_OSC                           00003FF8
_MCLRE_OFF                        00003FDF
_MCLRE_ON                         00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FEF
_WDT_OFF                          00003FF7
_WDT_ON                           00003FFF
_XT_OSC                           00003FF9
__12F675                          00000001
bt                                00000026
byte1                             000000D2
byte2                             000000DC
byte2_1                           00000109
byte2_2                           00000113
byte2_3                           0000011D
byte3                             000000E6
byte3_1                           00000140
byte3_2                           0000014A
byte3_3                           00000154
byte4_1                           00000177
byte4_2                           00000181
byte4_3                           0000018B
cnt                               00000021
cnt1                              00000022
cnt2                              00000023
cnt3                              00000024
head0                             00000055
mtx_buffer                        0000002D
mtx_delay                         00000027
mtx_init                          00000051
ncnt                              00000028
MPASM  5.35beta                         NESME.ASM   7-12-2012  1:37:04         PAGE 18


SYMBOL TABLE
  LABEL                             VALUE 

ndelaya0                          00000077
ndelaya1                          00000079
ndelayb0                          0000007C
ndelayb1                          0000007E
ndelayc0                          00000083
ndelayc1                          00000085
ndelaye0                          00000088
ndelaye1                          0000008A
outbu0                            0000005F
outby0                            0000006C
outby1                            00000071
outby2                            00000072
packet_len                        00000002
rezult                            0000002C
sum                               00000025
tcnt                              0000002B
temp                              00000029
temp1                             0000002A
tmp                               00000020


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXX-------- ---------------- ----------------
2000 : -------X-------- ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:   408
Program Memory Words Free:   616


Errors   :     0
Warnings :     6 reported,     0 suppressed
Messages :    24 reported,     0 suppressed

